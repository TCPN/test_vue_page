import{d as P,u as K,h as U,c as Z,o as Q,f as tt,w as et,a as z,i as it,g as B,t as T,j as nt,b as F,H as rt,e as st}from"./Footer-CaSTEkOF.js";import{Q as ot,a as at}from"./dev-FMV0s1mf.js";function ut(C,E=[],p={}){const $=typeof C=="string"?document.querySelector(C):C;if(!$)throw new Error("Container not found");const N=p.width||680,X=p.height||680,g=p.padding||100,b=N-g*2,d=X-g*2,r=-6,m=6,j=m-r,L=m-r,f={left:g,top:g,right:g+b,bottom:g+d};function s(t){const n=(t-r)/j;return f.left+n*b}function a(t){const n=(t-r)/L;return f.top+(1-n)*d}$.innerHTML="";const u="http://www.w3.org/2000/svg",o=document.createElementNS(u,"svg");o.setAttribute("viewBox",`0 0 ${N} ${X}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("preserveAspectRatio","xMidYMid meet");const Y=document.createElementNS(u,"rect");if(Y.setAttribute("x","0"),Y.setAttribute("y","0"),Y.setAttribute("width",`${N}`),Y.setAttribute("height",`${X}`),Y.setAttribute("fill","transparent"),o.appendChild(Y),p.showGrid??!0){for(let t=r;t<=m;t++){const n=s(t),e=document.createElementNS(u,"line");if(e.setAttribute("x1",`${n}`),e.setAttribute("x2",`${n}`),e.setAttribute("y1",`${f.bottom}`),e.setAttribute("y2",`${f.top}`),e.setAttribute("stroke","#eee"),e.setAttribute("stroke-width",`${t===0?2:1}`),o.appendChild(e),t!==0){const i=document.createElementNS(u,"text");i.setAttribute("x",`${n}`),i.setAttribute("y",`${f.bottom+16}`),i.setAttribute("text-anchor","middle"),i.setAttribute("font-size","11"),i.textContent=`${t}`,o.appendChild(i)}}for(let t=r;t<=m;t++){const n=a(t),e=document.createElementNS(u,"line");if(e.setAttribute("y1",`${n}`),e.setAttribute("y2",`${n}`),e.setAttribute("x1",`${f.left}`),e.setAttribute("x2",`${f.right}`),e.setAttribute("stroke","#eee"),e.setAttribute("stroke-width",`${t===0?2:1}`),o.appendChild(e),t!==0){const i=document.createElementNS(u,"text");i.setAttribute("x",`${f.left-10}`),i.setAttribute("y",`${n+4}`),i.setAttribute("text-anchor","end"),i.setAttribute("font-size","11"),i.textContent=`${t}`,o.appendChild(i)}}}const O={stroke:"#555","stroke-width":2,"stroke-linecap":"butt"},v=document.createElementNS(u,"line");v.setAttribute("x1",`${f.left}`),v.setAttribute("x2",`${f.right}`),v.setAttribute("y1",`${a(0)}`),v.setAttribute("y2",`${a(0)}`),Object.entries(O).forEach(([t,n])=>v.setAttribute(t,`${n}`)),o.appendChild(v);const M=document.createElementNS(u,"line");M.setAttribute("y1",`${f.top}`),M.setAttribute("y2",`${f.bottom}`),M.setAttribute("x1",`${s(0)}`),M.setAttribute("x2",`${s(0)}`),Object.entries(O).forEach(([t,n])=>M.setAttribute(t,`${n}`)),o.appendChild(M);const G=document.createElementNS(u,"defs"),y=document.createElementNS(u,"marker");y.setAttribute("id","arrow"),y.setAttribute("markerWidth","10"),y.setAttribute("markerHeight","10"),y.setAttribute("refX","5"),y.setAttribute("refY","5"),y.setAttribute("orient","auto");const V=document.createElementNS(u,"path");V.setAttribute("d","M0,0 L10,5 L0,10 L2,5 z"),V.setAttribute("fill","#333"),y.appendChild(V),G.appendChild(y),o.appendChild(G);function R(t,n,e,i,l){const c=document.createElementNS(u,"line");c.setAttribute("x1",`${n}`),c.setAttribute("x2",`${i}`),c.setAttribute("y1",`${e}`),c.setAttribute("y2",`${l}`),c.setAttribute("stroke",O.stroke),c.setAttribute("stroke-width",`${O["stroke-width"]}`),c.setAttribute("marker-end","url(#arrow)"),t.appendChild(c)}R(o,s(6),a(0),s(6)+10,a(0)),R(o,s(-6),a(0),s(-6)-10,a(0)),R(o,s(0),a(-6),s(0),a(-6)+10),R(o,s(0),a(6),s(0),a(6)-10);function q(t,n,e,i,{align:l="c",fontSize:c=13,margin:h=c/2,fontWeight:k=600,fill:H="#000",stroke:S="",strokeWidth:_=S?1:0}={}){const A=document.createElementNS(u,"text"),W=l.includes("l")?"end":l.includes("r")?"start":"middle",x=l.includes("t")?"text-after-edge":l.includes("b")?"text-before-edge":"middle";A.setAttribute("x",`${n+(l.includes("l")?-h:l.includes("r")?h:0)}`),A.setAttribute("y",`${e+(l.includes("t")?-h:l.includes("b")?h:0)}`),A.setAttribute("text-anchor",W),A.setAttribute("dominant-baseline",x),A.setAttribute("font-size",`${c}`),A.setAttribute("font-weight",`${k}`),A.setAttribute("fill",H),A.setAttribute("stroke",S),A.setAttribute("stroke-width",`${_}`),A.textContent=i,t.appendChild(A)}q(o,s(6),a(0),"外向 +6",{align:"r",fontSize:20,margin:24,fill:"#555"}),q(o,s(-6),a(0),"內向 -6",{align:"l",fontSize:20,margin:24,fill:"#555"}),q(o,s(0),a(6),"神經質 +6",{align:"t",fontSize:20,margin:24,fill:"#555"}),q(o,s(0),a(-6),"穩定 -6",{align:"b",fontSize:20,margin:24,fill:"#555"});function D(t,n,e){const i={left:n.x-e.left,right:e.right-n.x,top:n.y-e.top,bottom:e.bottom-n.y},l=i.top>=t.height,c=i.bottom>=t.height,h=i.left>=t.width,k=i.right>=t.width;return l&&k?"tr":c&&k?"br":c&&h?"bl":l&&h?"tl":"br"}E.forEach((t,n)=>{const e=t.x,i=t.y,l=t.fill||"#333",c=t.size||6,h=Math.max(r,Math.min(m,e)),k=Math.max(r,Math.min(m,i)),H=e!==h||i!==k,S=s(h),_=a(k),A=s(e),W=a(i);if(H){const w=document.createElementNS(u,"line");w.setAttribute("x1",`${S}`),w.setAttribute("y1",`${_}`),w.setAttribute("x2",`${A}`),w.setAttribute("y2",`${W}`),w.setAttribute("stroke",l),w.setAttribute("stroke-width","1"),w.setAttribute("stroke-dasharray","4 4"),o.appendChild(w)}const x=document.createElementNS(u,"circle");H?(x.setAttribute("stroke-dasharray","2 2"),x.setAttribute("stroke",l),x.setAttribute("fill","none"),x.setAttribute("cx",`${A}`),x.setAttribute("cy",`${W}`),x.setAttribute("r",`${c*.7}`)):(x.setAttribute("cx",`${S}`),x.setAttribute("cy",`${_}`),x.setAttribute("r",`${c}`),x.setAttribute("fill",l),x.setAttribute("stroke","#fff"),x.setAttribute("stroke-width","1.5")),o.appendChild(x);const I=t.label?`${t.label} (${e},${i})`:`(${e},${i})`,J=D({width:Math.abs(s(1)-s(0))-1,height:Math.abs(a(1)-a(0))-1},{x:S,y:_},{left:s(-6),top:a(6),right:s(6),bottom:a(-6)});q(o,S,_,I,{align:J,margin:c+2,fontSize:20,fontWeight:700,stroke:"#fff",strokeWidth:.1})}),$.appendChild(o)}const ct=P({__name:"ChartPlane",props:{points:{},opts:{}},setup(C){const E=C,p=K("container");return U(()=>E.points,$=>{p.value&&ut(p.value,$,E.opts??{})},{immediate:!0}),($,N)=>(Q(),Z("div",{ref_key:"container",ref:p},null,512))}}),lt=P({__name:"App",setup(C){const E={questions:[{target:"axisY",index:1,text:"你會沒有明顯的理由而有時覺得快樂，有時又覺得沮喪嗎？"},{target:"axisY",index:2,text:"不管有沒有明顯的原因，你的心境經常起伏不定嗎？"},{target:"axisY",index:3,text:"你有喜怒無常的傾向嗎？"},{target:"axisY",index:4,text:"在你想集中注意力時，常神不守舍嗎？"},{target:"axisY",index:5,text:"即使在你必須與人交談時，你也常「失常」嗎？"},{target:"axisY",index:6,text:"你會時而充滿活力，時而又了無生氣嗎？"},{target:"axisX",index:7,text:"你較喜歡行動，而不喜策劃行動嗎？"},{target:"axisX",index:8,text:"當你參與需要快速行動的工作時，是否最感快樂？"},{target:"axisX",index:9,text:"你通常會主動去結交新朋友嗎？"},{target:"axisX",index:10,text:"你有要求自己行動迅速、確實的傾向嗎？"},{target:"axisX",index:11,text:"自認為是個活潑的嗎？"},{target:"axisX",index:12,text:"如果你被禁止從事很多社交接觸，是否會覺得很不快樂？"}],defaultOptions:[{text:"O",value:"o",score:1},{text:"X",value:"x",score:-1}],getResult:N};function p(b,d){let r={axisX:0,axisY:0};for(let[m,j]of b){const L=d.questions.find(u=>u.index===Number(m));if(!L)continue;const f=L.target,s=d.defaultOptions.find(u=>u.value===j);if(!s)continue;const a=s.score;r[f]+=a}return r}function $(b){const d=b.axisX>0?"x+":"x-",r=b.axisY>0?"y+":"y-";return{"x+y+":{label:"暴躁性格",quadrant:"第一象限",description:"外向、情緒不穩定，容易焦慮與急躁。",animal:"公牛"},"x-y+":{label:"憂鬱性格",quadrant:"第二象限",description:"內向、情緒不穩定，容易憂慮與悲觀。",animal:"貓"},"x-y-":{label:"冷漠性格",quadrant:"第三象限",description:"內向、情緒穩定，冷靜、不易受干擾。",animal:"烏龜"},"x+y-":{label:"熱情性格",quadrant:"第四象限",description:"外向、情緒穩定，活潑、積極、喜歡社交。",animal:"猴子"}}[`${d}${r}`]}function N(b,d){const r=p(b,d);return{...$(r),...r}}function X(b){return typeof b=="number"&&b>=0?"+"+b:""+b}const g=window.innerWidth<600?{width:500,height:500,showGrid:!1}:{};return(b,d)=>(Q(),tt(ot,{quiz:E},{result:et(({result:r})=>[z("h4",null,[d[0]||(d[0]=B(" 你的性格傾向：",-1)),z("b",null,T(r.label),1)]),z("p",null,[B(T(r.description),1),d[1]||(d[1]=z("br",null,null,-1)),B(" 代表動物："+T(r.animal),1)]),z("p",null,[B(" 外向性 (Extroversion)："+T(X(r.axisX)),1),d[2]||(d[2]=z("br",null,null,-1)),B(" 神經質 (Neuroticism)："+T(X(r.axisY)),1)]),it(ct,{points:[{x:r.axisX,y:r.axisY,fill:"#f00",size:10}],opts:nt(g)},null,8,["points","opts"])]),_:1}))}});F(lt).mount("#app");F(rt).mount("#header");F(st).mount("#footer");window.autofill=at;
