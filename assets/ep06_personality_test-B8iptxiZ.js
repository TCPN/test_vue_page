import{d as P,u as J,h as K,i as Z,c as tt,o as Q,f as et,w as it,a as z,j as nt,g as B,t as T,k as rt,b as F,H as st,e as ot}from"./Footer-B0WzRYIo.js";import{Q as at,a as ut}from"./dev-BZxpIAZc.js";function lt(X,C=[],A={}){const g=typeof X=="string"?document.querySelector(X):X;if(!g)throw new Error("Container not found");const $=A.width||680,S=A.height||680,y=A.padding||100,b=$-y*2,d=S-y*2,r=-6,h=6,j=h-r,L=h-r,f={left:y,top:y,right:y+b,bottom:y+d};function s(t){const n=(t-r)/j;return f.left+n*b}function a(t){const n=(t-r)/L;return f.top+(1-n)*d}g.innerHTML="";const u="http://www.w3.org/2000/svg",o=document.createElementNS(u,"svg");o.setAttribute("viewBox",`0 0 ${$} ${S}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("preserveAspectRatio","xMidYMid meet");const Y=document.createElementNS(u,"rect");if(Y.setAttribute("x","0"),Y.setAttribute("y","0"),Y.setAttribute("width",`${$}`),Y.setAttribute("height",`${S}`),Y.setAttribute("fill","transparent"),o.appendChild(Y),A.showGrid??!0){for(let t=r;t<=h;t++){const n=s(t),e=document.createElementNS(u,"line");if(e.setAttribute("x1",`${n}`),e.setAttribute("x2",`${n}`),e.setAttribute("y1",`${f.bottom}`),e.setAttribute("y2",`${f.top}`),e.setAttribute("stroke","#eee"),e.setAttribute("stroke-width",`${t===0?2:1}`),o.appendChild(e),t!==0){const i=document.createElementNS(u,"text");i.setAttribute("x",`${n}`),i.setAttribute("y",`${f.bottom+16}`),i.setAttribute("text-anchor","middle"),i.setAttribute("font-size","11"),i.textContent=`${t}`,o.appendChild(i)}}for(let t=r;t<=h;t++){const n=a(t),e=document.createElementNS(u,"line");if(e.setAttribute("y1",`${n}`),e.setAttribute("y2",`${n}`),e.setAttribute("x1",`${f.left}`),e.setAttribute("x2",`${f.right}`),e.setAttribute("stroke","#eee"),e.setAttribute("stroke-width",`${t===0?2:1}`),o.appendChild(e),t!==0){const i=document.createElementNS(u,"text");i.setAttribute("x",`${f.left-10}`),i.setAttribute("y",`${n+4}`),i.setAttribute("text-anchor","end"),i.setAttribute("font-size","11"),i.textContent=`${t}`,o.appendChild(i)}}}const O={stroke:"#555","stroke-width":2,"stroke-linecap":"butt"},M=document.createElementNS(u,"line");M.setAttribute("x1",`${f.left}`),M.setAttribute("x2",`${f.right}`),M.setAttribute("y1",`${a(0)}`),M.setAttribute("y2",`${a(0)}`),Object.entries(O).forEach(([t,n])=>M.setAttribute(t,`${n}`)),o.appendChild(M);const v=document.createElementNS(u,"line");v.setAttribute("y1",`${f.top}`),v.setAttribute("y2",`${f.bottom}`),v.setAttribute("x1",`${s(0)}`),v.setAttribute("x2",`${s(0)}`),Object.entries(O).forEach(([t,n])=>v.setAttribute(t,`${n}`)),o.appendChild(v);const G=document.createElementNS(u,"defs"),w=document.createElementNS(u,"marker");w.setAttribute("id","arrow"),w.setAttribute("markerWidth","10"),w.setAttribute("markerHeight","10"),w.setAttribute("refX","5"),w.setAttribute("refY","5"),w.setAttribute("orient","auto");const V=document.createElementNS(u,"path");V.setAttribute("d","M0,0 L10,5 L0,10 L2,5 z"),V.setAttribute("fill","#333"),w.appendChild(V),G.appendChild(w),o.appendChild(G);function R(t,n,e,i,c){const l=document.createElementNS(u,"line");l.setAttribute("x1",`${n}`),l.setAttribute("x2",`${i}`),l.setAttribute("y1",`${e}`),l.setAttribute("y2",`${c}`),l.setAttribute("stroke",O.stroke),l.setAttribute("stroke-width",`${O["stroke-width"]}`),l.setAttribute("marker-end","url(#arrow)"),t.appendChild(l)}R(o,s(6),a(0),s(6)+10,a(0)),R(o,s(-6),a(0),s(-6)-10,a(0)),R(o,s(0),a(-6),s(0),a(-6)+10),R(o,s(0),a(6),s(0),a(6)-10);function q(t,n,e,i,{align:c="c",fontSize:l=13,margin:m=l/2,fontWeight:E=600,fill:H="#000",stroke:N="",strokeWidth:_=N?1:0}={}){const p=document.createElementNS(u,"text"),W=c.includes("l")?"end":c.includes("r")?"start":"middle",x=c.includes("t")?"text-after-edge":c.includes("b")?"text-before-edge":"middle";p.setAttribute("x",`${n+(c.includes("l")?-m:c.includes("r")?m:0)}`),p.setAttribute("y",`${e+(c.includes("t")?-m:c.includes("b")?m:0)}`),p.setAttribute("text-anchor",W),p.setAttribute("dominant-baseline",x),p.setAttribute("font-size",`${l}`),p.setAttribute("font-weight",`${E}`),p.setAttribute("fill",H),p.setAttribute("stroke",N),p.setAttribute("stroke-width",`${_}`),p.textContent=i,t.appendChild(p)}q(o,s(6),a(0),"外向 +6",{align:"r",fontSize:20,margin:24,fill:"#555"}),q(o,s(-6),a(0),"內向 -6",{align:"l",fontSize:20,margin:24,fill:"#555"}),q(o,s(0),a(6),"神經質 +6",{align:"t",fontSize:20,margin:24,fill:"#555"}),q(o,s(0),a(-6),"穩定 -6",{align:"b",fontSize:20,margin:24,fill:"#555"});function D(t,n,e){const i={left:n.x-e.left,right:e.right-n.x,top:n.y-e.top,bottom:e.bottom-n.y},c=i.top>=t.height,l=i.bottom>=t.height,m=i.left>=t.width,E=i.right>=t.width;return c&&E?"tr":l&&E?"br":l&&m?"bl":c&&m?"tl":"br"}C.forEach((t,n)=>{const e=t.x,i=t.y,c=t.fill||"#333",l=t.size||6,m=Math.max(r,Math.min(h,e)),E=Math.max(r,Math.min(h,i)),H=e!==m||i!==E,N=s(m),_=a(E),p=s(e),W=a(i);if(H){const k=document.createElementNS(u,"line");k.setAttribute("x1",`${N}`),k.setAttribute("y1",`${_}`),k.setAttribute("x2",`${p}`),k.setAttribute("y2",`${W}`),k.setAttribute("stroke",c),k.setAttribute("stroke-width","1"),k.setAttribute("stroke-dasharray","4 4"),o.appendChild(k)}const x=document.createElementNS(u,"circle");H?(x.setAttribute("stroke-dasharray","2 2"),x.setAttribute("stroke",c),x.setAttribute("fill","none"),x.setAttribute("cx",`${p}`),x.setAttribute("cy",`${W}`),x.setAttribute("r",`${l*.7}`)):(x.setAttribute("cx",`${N}`),x.setAttribute("cy",`${_}`),x.setAttribute("r",`${l}`),x.setAttribute("fill",c),x.setAttribute("stroke","#fff"),x.setAttribute("stroke-width","1.5")),o.appendChild(x);const U=t.label?`${t.label} (${e},${i})`:`(${e},${i})`,I=D({width:Math.abs(s(1)-s(0))-1,height:Math.abs(a(1)-a(0))-1},{x:N,y:_},{left:s(-6),top:a(6),right:s(6),bottom:a(-6)});q(o,N,_,U,{align:I,margin:l+2,fontSize:20,fontWeight:700,stroke:"#fff",strokeWidth:.1})}),g.appendChild(o)}const ct=P({__name:"ChartPlane",props:{points:{},opts:{}},setup(X){const C=X,A=J("container");function g($){A.value&&(console.log("ChartPlane points updated:",$),lt(A.value,$,C.opts??{}))}return K(()=>{g(C.points)}),Z(()=>{g(C.points)}),($,S)=>(Q(),tt("div",{ref_key:"container",ref:A},null,512))}}),dt=P({__name:"App",setup(X){const C={questions:[{target:"axisY",index:1,text:"你會沒有明顯的理由而有時覺得快樂，有時又覺得沮喪嗎？"},{target:"axisY",index:2,text:"不管有沒有明顯的原因，你的心境經常起伏不定嗎？"},{target:"axisY",index:3,text:"你有喜怒無常的傾向嗎？"},{target:"axisY",index:4,text:"在你想集中注意力時，常神不守舍嗎？"},{target:"axisY",index:5,text:"即使在你必須與人交談時，你也常「失常」嗎？"},{target:"axisY",index:6,text:"你會時而充滿活力，時而又了無生氣嗎？"},{target:"axisX",index:7,text:"你較喜歡行動，而不喜策劃行動嗎？"},{target:"axisX",index:8,text:"當你參與需要快速行動的工作時，是否最感快樂？"},{target:"axisX",index:9,text:"你通常會主動去結交新朋友嗎？"},{target:"axisX",index:10,text:"你有要求自己行動迅速、確實的傾向嗎？"},{target:"axisX",index:11,text:"自認為是個活潑的嗎？"},{target:"axisX",index:12,text:"如果你被禁止從事很多社交接觸，是否會覺得很不快樂？"}],defaultOptions:[{text:"O",value:"o",score:1},{text:"X",value:"x",score:-1}],getResult:$};function A(b,d){let r={axisX:0,axisY:0};for(let[h,j]of b){const L=d.questions.find(u=>u.index===Number(h));if(!L)continue;const f=L.target,s=d.defaultOptions.find(u=>u.value===j);if(!s)continue;const a=s.score;r[f]+=a}return r}function g(b){const d=b.axisX>0?"x+":"x-",r=b.axisY>0?"y+":"y-";return{"x+y+":{label:"暴躁性格",quadrant:"第一象限",description:"外向、情緒不穩定，容易焦慮與急躁。",animal:"公牛"},"x-y+":{label:"憂鬱性格",quadrant:"第二象限",description:"內向、情緒不穩定，容易憂慮與悲觀。",animal:"貓"},"x-y-":{label:"冷漠性格",quadrant:"第三象限",description:"內向、情緒穩定，冷靜、不易受干擾。",animal:"烏龜"},"x+y-":{label:"熱情性格",quadrant:"第四象限",description:"外向、情緒穩定，活潑、積極、喜歡社交。",animal:"猴子"}}[`${d}${r}`]}function $(b,d){const r=A(b,d);return{...g(r),...r}}function S(b){return typeof b=="number"&&b>=0?"+"+b:""+b}const y=window.innerWidth<600?{width:500,height:500,showGrid:!1}:{};return(b,d)=>(Q(),et(at,{quiz:C},{result:it(({result:r})=>[z("h4",null,[d[0]||(d[0]=B(" 你的性格傾向：",-1)),z("b",null,T(r.label),1)]),z("p",null,[B(T(r.description),1),d[1]||(d[1]=z("br",null,null,-1)),B(" 代表動物："+T(r.animal),1)]),z("p",null,[B(" 外向性 (Extroversion)："+T(S(r.axisX)),1),d[2]||(d[2]=z("br",null,null,-1)),B(" 神經質 (Neuroticism)："+T(S(r.axisY)),1)]),nt(ct,{points:[{x:r.axisX,y:r.axisY,fill:"#f00",size:10}],opts:rt(y)},null,8,["points","opts"])]),_:1}))}});F(dt).mount("#app");F(st).mount("#header");F(ot).mount("#footer");window.autofill=ut;
